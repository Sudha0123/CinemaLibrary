{"ast":null,"code":"import React,{useState}from'react';import{useEffect}from'react';import axios from'axios';import{Link,useNavigate}from'react-router-dom';import{Navigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function RegisterClick(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-danger\",children:[\"Account not found - \",/*#__PURE__*/_jsx(Link,{to:\"/userregister\",className:\"btn btn-light\",children:\"Register\"})]})});}export function VideoMain(){const[users,setUsers]=useState([{UserId:'',UserName:'',Password:'',Email:'',Mobile:''}]);const[email,setEmail]=useState('');const[error,setError]=useState('');const[password,setPassword]=useState(false);const[login,setLogin]=useState(false);const[showPassword,setShowPassword]=useState(false);const[showEmail,setshowEmail]=useState(true);let usenavigate=useNavigate();useEffect(()=>{axios.get('http://127.0.0.1:3334/getusers').then(response=>{setUsers(response.data);});},[]);function handleEmail(e){setEmail(e.target.value);}function handlegetStarted(){var user=users.find(item=>item.Email==email);if(user==undefined){setError(/*#__PURE__*/_jsx(RegisterClick,{}));setPassword(false);}else{setError('');setshowEmail(false);setShowPassword(true);setLogin(user);// usenavigate(\"/userlogin\")\n}}function handlePassword(e){setPassword(e.target.value);}function handleLogin(){if(login&&login.Password===password){// redirect or take user to the videos page\nalert('Login successful');usenavigate(\"/user\");}else{setError(/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:\"Incorrect password\"}));}}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"main\",{className:\"d-flex justify-content-center align-items-center vh-100 mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:'gold'},children:\"Watch Tollywood Videos Any where\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center mt-4 mb-4\",style:{color:'gold'},children:\"Please register for more  videos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:showEmail&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",onChange:handleEmail,className:\"form-control\",placeholder:\"Your email addess\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handlegetStarted,className:\"btn btn-danger ms-2\",children:\"Get Started\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group mt-4\",children:showPassword&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:handlePassword,className:\"form-control\",placeholder:\"Your password\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,className:\"btn btn-danger ms-2\",children:\"Login\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:error})})]})})});}","map":{"version":3,"names":["React","useState","useEffect","axios","Link","useNavigate","Navigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","RegisterClick","children","className","to","VideoMain","users","setUsers","UserId","UserName","Password","Email","Mobile","email","setEmail","error","setError","password","setPassword","login","setLogin","showPassword","setShowPassword","showEmail","setshowEmail","usenavigate","get","then","response","data","handleEmail","e","target","value","handlegetStarted","user","find","item","undefined","handlePassword","handleLogin","alert","style","color","type","onChange","placeholder","onClick"],"sources":["D:/React/cinemalibrary/frontend/src/Components/videomain.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nfunction RegisterClick(){\r\n\r\n    return(\r\n        <div>\r\n            <p className='text-danger'>Account not found - <Link to='/userregister' className='btn btn-light'>Register</Link></p>\r\n        </div>\r\n    )\r\n        \r\n}\r\n\r\nexport function VideoMain() {\r\n\r\n    const[users,setUsers]=useState([{UserId:'', UserName:'', Password:'', Email:'', Mobile:''}])\r\n\r\n    const[email,setEmail]=useState('')\r\n    const[error,setError]=useState('')\r\n    const[password,setPassword]=useState(false)\r\n    const[login,setLogin]=useState(false)\r\n    const[showPassword,setShowPassword]=useState(false)\r\n    const[showEmail,setshowEmail]=useState(true)\r\n\r\n    let usenavigate=useNavigate()\r\n   \r\n\r\n    useEffect(()=>{\r\n        axios.get('http://127.0.0.1:3334/getusers')\r\n        .then(response => {\r\n            setUsers(response.data);\r\n        })\r\n     },[]);\r\n\r\n    function handleEmail(e){\r\n        setEmail(e.target.value)\r\n    }\r\n   \r\n    function handlegetStarted(){\r\n        var user=users.find(item=>item.Email==email)\r\n        \r\n        if(user==undefined){\r\n            setError(<RegisterClick/>)\r\n            setPassword(false)\r\n\r\n           \r\n        }\r\n        else{\r\n            setError('');\r\n            setshowEmail(false)\r\n            setShowPassword(true);\r\n            setLogin(user);\r\n            // usenavigate(\"/userlogin\")\r\n        }\r\n    }\r\n\r\n    function handlePassword(e){\r\n        setPassword(e.target.value)\r\n    }\r\n\r\n    function handleLogin(){\r\n        if (login && login.Password === password) {\r\n      \r\n            \r\n            // redirect or take user to the videos page\r\n            alert('Login successful');\r\n                  usenavigate(\"/user\");\r\n        } else {\r\n            setError(<p className='text-danger'>Incorrect password</p>);\r\n        }\r\n    }\r\n\r\n    \r\n     \r\n\r\n    return(\r\n        <div>\r\n             <main className='d-flex justify-content-center align-items-center vh-100 mt-4'>\r\n                  <div>\r\n                     <h1  style={{color:'gold'}}>Watch Tollywood Videos Any where</h1>\r\n                     <p className='text-center mt-4 mb-4' style={{color:'gold'}}>Please register for more  videos</p>\r\n                     <div className='input-group'>\r\n                        {showEmail &&(\r\n                            <>\r\n                              <input  type=\"email\" onChange={handleEmail} className='form-control' placeholder='Your email addess' />\r\n                              <button onClick={handlegetStarted} className='btn btn-danger ms-2'>Get Started</button>\r\n                            </>\r\n\r\n                        )}\r\n                      \r\n                       \r\n                     </div>\r\n                        <div className='input-group mt-4'>\r\n                            {showPassword && (\r\n                                <>\r\n                                <input type=\"password\" onChange={handlePassword} className='form-control' placeholder='Your password' />\r\n                                <button onClick={handleLogin} className='btn btn-danger ms-2'>Login</button>\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                   \r\n                    \r\n                  <div className='text-center mt-4'>\r\n                     <p className='text-danger'>{error}</p>\r\n                     </div>\r\n                  \r\n                  </div>\r\n             </main>\r\n\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}