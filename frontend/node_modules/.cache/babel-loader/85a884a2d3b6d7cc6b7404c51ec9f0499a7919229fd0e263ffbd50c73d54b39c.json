{"ast":null,"code":"import React,{useEffect}from'react';import{Link}from'react-router-dom';import{Formik,useFormik}from'formik';import axios from'axios';import{useState}from'react';import{useNavigate}from'react-router-dom';import{useCookies}from'react-cookie';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function UserLogin(){const[users,setUsers]=useState([{UserId:'',UserName:'',Password:'',Email:'',Mobile:''}]);const[error,setError]=useState('');const navigate=useNavigate();const[cookie,setCookie,removeCookie]=useCookies('userName');const formik=useFormik({initialValues:{UserId:'',Password:''},// onSubmit:values=>{\n//     var user=users.find(item=>item.UserId===values.UserId)\n//     if(user.Password===values.Password){\n//         setCookie('username',user.UserName)\n//         // navigate('/')\n//     }\n//     else{\n//         setError('Invalid UserId or Password')  \n//     }\n// }\nonSubmit:values=>{const user=users.find(item=>item.UserId===values.UserId);// alert(values.Password)\n// alert(user.Password)\nif(user&&user.Password===values.Password){setCookie('userName',user.UserName);navigate('/user');}else{setError('Invalid UserId or Password');}}});useEffect(()=>{axios.get('http://127.0.0.1:3334/getusers').then(res=>{setUsers(res.data);});},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:\"green\"},children:\"User Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,className:\"w-50 m-auto mt-4 p-4 border border-gold rounded green\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",style:{color:\"green\"},children:\"Login\"}),/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{style:{color:\"green\"},children:\"UserId\"}),/*#__PURE__*/_jsx(\"dd\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"UserId\",onChange:formik.handleChange})}),/*#__PURE__*/_jsx(\"dt\",{style:{color:'green'},children:\"Password\"}),/*#__PURE__*/_jsx(\"dd\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"Password\",onChange:formik.handleChange})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-danger\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/userregister\",className:\"btn btn-danger ms-2\",children:\"Register\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-danger\",children:error})]})]});}","map":{"version":3,"names":["React","useEffect","Link","Formik","useFormik","axios","useState","useNavigate","useCookies","jsx","_jsx","jsxs","_jsxs","UserLogin","users","setUsers","UserId","UserName","Password","Email","Mobile","error","setError","navigate","cookie","setCookie","removeCookie","formik","initialValues","onSubmit","values","user","find","item","get","then","res","data","children","style","color","handleSubmit","className","type","name","onChange","handleChange","to"],"sources":["D:/React/cinemalibrary/frontend/src/Components/UserLogin.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { Formik,useFormik } from 'formik'\r\nimport axios from 'axios'\r\n\r\nimport { useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useCookies } from 'react-cookie'\r\n\r\nexport function UserLogin(){\r\n    const [users, setUsers] = useState([{UserId:'', UserName:'', Password:'', Email:'', Mobile:''}]);\r\n    const [error,setError]=useState('')\r\n    \r\n     const navigate=useNavigate()\r\n     const [cookie,setCookie,removeCookie]=useCookies('userName')\r\n        const formik=useFormik({\r\n\r\n            \r\n            initialValues:{\r\n                UserId:'',\r\n                Password:''\r\n            },\r\n\r\n            // onSubmit:values=>{\r\n\r\n            //     var user=users.find(item=>item.UserId===values.UserId)\r\n            //     if(user.Password===values.Password){\r\n            //         setCookie('username',user.UserName)\r\n            //         // navigate('/')\r\n            //     }\r\n            //     else{\r\n            //         setError('Invalid UserId or Password')  \r\n            //     }\r\n\r\n            // }\r\n\r\n            onSubmit: values => {\r\n                const user = users.find(item => item.UserId === values.UserId);\r\n                // alert(values.Password)\r\n                // alert(user.Password)\r\n                if (user && user.Password === values.Password) {\r\n                  setCookie('userName', user.UserName);\r\n                  navigate('/user');\r\n                } else {\r\n                  setError('Invalid UserId or Password');\r\n                }\r\n              }\r\n              \r\n        })\r\n        useEffect(()=>{\r\n            axios.get('http://127.0.0.1:3334/getusers')\r\n            .then(res=>{\r\n                setUsers(res.data)\r\n            })\r\n\r\n        },[])\r\n    return(\r\n        <div>\r\n            <h1 style={{color:\"green\"}}>User Login</h1>\r\n            <form onSubmit={formik.handleSubmit} className='w-50 m-auto mt-4 p-4 border border-gold rounded green'>\r\n                <h1 className='text-center' style={{color:\"green\"}}>Login</h1>\r\n                <dl>\r\n                    <dt style={{color:\"green\"}}>UserId</dt>\r\n                    <dd><input type=\"text\" name='UserId' onChange={formik.handleChange}/></dd>\r\n                    <dt style={{color:'green'}}>Password</dt>\r\n                    <dd><input type=\"password\" name='Password' onChange={formik.handleChange}/></dd>\r\n\r\n\r\n                </dl>\r\n                <button type='submit' className='btn btn-danger'>Login</button>\r\n                <Link to='/userregister' className='btn btn-danger ms-2'>Register</Link>\r\n                <h1 className='text-danger'>{error}</h1>\r\n                \r\n\r\n\r\n            </form>\r\n\r\n\r\n        </div>\r\n    )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}